<div id="course-list">Loading courses...</div>

<script>
  fetch('./links.json')
  .then(res => res.json())
  .then(data => {
    renderList(data.storyline, 'storyline-container', 'Storyline Courses');
    renderList(data.h5p, 'h5p-container', 'H5P Activities');
  });

function renderList(files, elementId, title) {
  const container = document.getElementById(elementId);
  if (!files.length) return;

  container.innerHTML = `<h3>${title}</h3>`;
  files.forEach(path => {
    const link = document.createElement('a');
    link.href = path;
    // Clean up the path for the display name (e.g., DS2 > Module 1)
    link.textContent = path.replace('/story.html', '').replace('/h5p.html', '');
    link.className = "course-link"; 
    container.appendChild(link);
  });
}
</script>